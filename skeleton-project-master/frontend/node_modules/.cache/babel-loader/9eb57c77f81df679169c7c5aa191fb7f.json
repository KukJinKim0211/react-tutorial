{"ast":null,"code":"var _jsxFileName = \"/Users/kimkukjin/Git/react/skeleton-project-master/frontend/src/pages/MainVote/index.jsx\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport Layout from '../../layout/';\nimport Wrapper from './styles';\nimport { AppBar, Tabs, Tab, Typography, Box, Divider } from '@material-ui/core';\nimport Axios from 'axios';\nimport { CommonContext } from '../../context/CommonContext';\nimport { ViewContext } from '../../context/ViewContext';\nimport ButtonBases from '../../components/Main/ButtonBases';\nimport VoteGridList from '../../components/Grid/VoteGridList';\nimport VoteGridTitle from '../../components/Grid/VoteGridTitle';\nimport categoryDats from './dump.json'; ///////////////////////////////////////////////\n// sub\n\nconst TabPanel = props => {\n  const {\n    children,\n    value,\n    index,\n    ...other\n  } = props;\n  return /*#__PURE__*/React.createElement(Typography, Object.assign({\n    component: \"div\",\n    role: \"tabpanel\",\n    hidden: value !== index,\n    id: `simple-tabpanel-${index}`,\n    \"aria-labelledby\": `simple-tab-${index}`\n  }, other, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 5\n    }\n  }), value === index && /*#__PURE__*/React.createElement(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 27\n    }\n  }, children));\n};\n\nconst a11yProps = index => {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`\n  };\n}; ///////////////////////////////////////////////\n// hook\n\n\nconst useGetCategoryDatas = url => {\n  const {\n    serverUrl,\n    user,\n    setUser\n  } = useContext(CommonContext);\n  const [data, setData] = useState([]);\n\n  const getDatas = async () => {\n    let respone = [];\n    setData(categoryDats);\n  };\n\n  useEffect(() => {\n    getDatas();\n  }, []);\n  return data;\n};\n\nconst useOnChangeIndex = categoryDatas => {\n  const [appbarIndex, setAppbarIndex] = useState(0);\n  const [appbarIndexDelta, setAppbarIndexDelta] = useState(0);\n\n  const onChangeIndexHandler = (event, newIndex) => {\n    let deltaValue = 0;\n\n    if (newIndex > appbarIndex && newIndex !== categoryDatas.length - 1) {\n      deltaValue = 1;\n    }\n\n    if (newIndex < appbarIndex && newIndex !== 0) {\n      deltaValue = -1;\n    }\n\n    if (appbarIndex === newIndex) {\n      deltaValue = appbarIndexDelta * -1;\n    }\n\n    setAppbarIndexDelta(deltaValue);\n    setAppbarIndex(newIndex);\n  };\n\n  return [onChangeIndexHandler, appbarIndex, appbarIndexDelta];\n}; ///////////////////////////////////////////////\n// main\n\n\nconst MainVote = props => {\n  const {\n    drawerOpen,\n    serverUrlBase,\n    serverImgUrl\n  } = useContext(CommonContext);\n  const categoryDatas = useGetCategoryDatas('/category');\n  const [onChangeIndexHandler, appbarIndex, appbarIndexDelta] = useOnChangeIndex(categoryDatas);\n  return /*#__PURE__*/React.createElement(ViewContext.Provider, {\n    value: {\n      categoryDatas\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Wrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(AppBar, {\n    position: \"fixed\",\n    color: \"inherit\",\n    className: drawerOpen ? 'appbar appbar-shift' : 'appbar',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Tabs, {\n    value: appbarIndex + appbarIndexDelta,\n    onChange: onChangeIndexHandler,\n    indicatorColor: \"primary\",\n    textColor: \"primary\",\n    variant: \"scrollable\",\n    \"aria-label\": \"full width tabs example\",\n    className: \"big-indicator\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, categoryDatas.map((categoryData, index) => /*#__PURE__*/React.createElement(Tab, Object.assign({\n    key: index\n  }, a11yProps(index), {\n    label: /*#__PURE__*/React.createElement(ButtonBases, {\n      categoryData: categoryData,\n      isSelected: index === appbarIndex ? true : false,\n      serverUrlBase: serverUrlBase,\n      serverImgUrl: serverImgUrl,\n      index: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 21\n      }\n    }),\n    className: \"tab\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }))))), categoryDatas.map((categoryData, index) => /*#__PURE__*/React.createElement(TabPanel, {\n    key: index,\n    value: appbarIndex,\n    index: index,\n    className: \"tab-panel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(VoteGridTitle, {\n    categoryData: categoryData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Divider, {\n    style: {\n      margin: '0px 0 20px 0'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(VoteGridList, {\n    categoryData: categoryData,\n    value: appbarIndex,\n    index: index,\n    itemType: 'vote',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 15\n    }\n  }))))));\n};\n\nexport default MainVote;","map":{"version":3,"names":["React","useState","useEffect","useContext","Layout","Wrapper","AppBar","Tabs","Tab","Typography","Box","Divider","Axios","CommonContext","ViewContext","ButtonBases","VoteGridList","VoteGridTitle","categoryDats","TabPanel","props","children","value","index","other","a11yProps","id","useGetCategoryDatas","url","serverUrl","user","setUser","data","setData","getDatas","respone","useOnChangeIndex","categoryDatas","appbarIndex","setAppbarIndex","appbarIndexDelta","setAppbarIndexDelta","onChangeIndexHandler","event","newIndex","deltaValue","length","MainVote","drawerOpen","serverUrlBase","serverImgUrl","map","categoryData","margin"],"sources":["/Users/kimkukjin/Git/react/skeleton-project-master/frontend/src/pages/MainVote/index.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport Layout from '../../layout/';\nimport Wrapper from './styles';\n\nimport { AppBar, Tabs, Tab, Typography, Box, Divider } from '@material-ui/core';\n\nimport Axios from 'axios';\n\nimport { CommonContext } from '../../context/CommonContext';\nimport { ViewContext } from '../../context/ViewContext';\n\nimport ButtonBases from '../../components/Main/ButtonBases';\nimport VoteGridList from '../../components/Grid/VoteGridList';\nimport VoteGridTitle from '../../components/Grid/VoteGridTitle';\n\nimport categoryDats from './dump.json';\n\n///////////////////////////////////////////////\n// sub\n\nconst TabPanel = props => {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <Typography\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box>{children}</Box>}\n    </Typography>\n  );\n};\n\nconst a11yProps = index => {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`,\n  };\n};\n\n///////////////////////////////////////////////\n// hook\n\nconst useGetCategoryDatas = url => {\n  const { serverUrl, user, setUser } = useContext(CommonContext);\n  const [data, setData] = useState([]);\n\n  const getDatas = async () => {\n    let respone = [];\n\n    setData(categoryDats);\n  };\n\n  useEffect(() => {\n    getDatas();\n  }, []);\n\n  return data;\n};\n\nconst useOnChangeIndex = categoryDatas => {\n  const [appbarIndex, setAppbarIndex] = useState(0);\n  const [appbarIndexDelta, setAppbarIndexDelta] = useState(0);\n\n  const onChangeIndexHandler = (event, newIndex) => {\n    let deltaValue = 0;\n\n    if (newIndex > appbarIndex && newIndex !== categoryDatas.length - 1) {\n      deltaValue = 1;\n    }\n    if (newIndex < appbarIndex && newIndex !== 0) {\n      deltaValue = -1;\n    }\n    if (appbarIndex === newIndex) {\n      deltaValue = appbarIndexDelta * -1;\n    }\n    setAppbarIndexDelta(deltaValue);\n    setAppbarIndex(newIndex);\n  };\n\n  return [onChangeIndexHandler, appbarIndex, appbarIndexDelta];\n};\n///////////////////////////////////////////////\n// main\n\nconst MainVote = props => {\n  const { drawerOpen, serverUrlBase, serverImgUrl } = useContext(CommonContext);\n\n  const categoryDatas = useGetCategoryDatas('/category');\n\n  const [\n    onChangeIndexHandler,\n    appbarIndex,\n    appbarIndexDelta,\n  ] = useOnChangeIndex(categoryDatas);\n\n  return (\n    <ViewContext.Provider\n      value={{\n        categoryDatas,\n      }}\n    >\n      <Layout>\n        <Wrapper>\n          <AppBar\n            position=\"fixed\"\n            color=\"inherit\"\n            className={drawerOpen ? 'appbar appbar-shift' : 'appbar'}\n          >\n            <Tabs\n              value={appbarIndex + appbarIndexDelta}\n              onChange={onChangeIndexHandler}\n              indicatorColor=\"primary\"\n              textColor=\"primary\"\n              variant=\"scrollable\"\n              aria-label=\"full width tabs example\"\n              className=\"big-indicator\"\n            >\n              {categoryDatas.map((categoryData, index) => (\n                <Tab\n                  key={index}\n                  {...a11yProps(index)}\n                  label={\n                    <ButtonBases\n                      categoryData={categoryData}\n                      isSelected={index === appbarIndex ? true : false}\n                      serverUrlBase={serverUrlBase}\n                      serverImgUrl={serverImgUrl}\n                      index={index}\n                    />\n                  }\n                  className=\"tab\"\n                ></Tab>\n              ))}\n            </Tabs>\n          </AppBar>\n          {categoryDatas.map((categoryData, index) => (\n            <TabPanel\n              key={index}\n              value={appbarIndex}\n              index={index}\n              className=\"tab-panel\"\n            >\n              <VoteGridTitle categoryData={categoryData} />\n              <Divider style={{ margin: '0px 0 20px 0' }} />\n              <VoteGridList\n                categoryData={categoryData}\n                value={appbarIndex}\n                index={index}\n                itemType={'vote'}\n              />\n            </TabPanel>\n          ))}\n        </Wrapper>\n      </Layout>\n    </ViewContext.Provider>\n  );\n};\n\nexport default MainVote;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}