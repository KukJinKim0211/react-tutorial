{"ast":null,"code":"var _jsxFileName = \"/Users/kimkukjin/Git/react/skeleton-project-master/frontend/src/components/Grid/VoteGridList/index.jsx\";\nimport React, { useState, useEffect, useContext, useRef } from 'react';\nimport { GridList, Grid, MenuItem, FormControl, Select, Typography } from '@material-ui/core';\nimport TuneIcon from '@material-ui/icons/Tune';\nimport Wrapper from './styles';\nimport Axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { CommonContext } from '../../../context/CommonContext';\nimport { ViewContext } from '../../../context/ViewContext';\nimport { useNowCols } from '../../../common/MediaQueryHooks';\nimport { usePrevious } from '../../../common/CommonHooks';\nimport { useInfiniteScroll } from '../../../common/InfiniteScroll';\nimport VoteGridItem from './../VoteGridItem/';\nimport voteDatas from './dump.json';\n\nconst useGetdata = (value, index, categoryData, itemType, itemValue) => {\n  const {\n    serverUrl,\n    user,\n    setUser\n  } = useContext(CommonContext);\n  const [filterItem, setFilterItem] = useState('default');\n  const filterItemPrevious = usePrevious(filterItem);\n  const [gridItemDatas, setGridItemDatas] = useState([]);\n  const nextToken = useRef(null);\n  const isScrollBottom = useInfiniteScroll();\n\n  const getDatas = async () => {\n    setGridItemDatas(voteDatas.items);\n  };\n\n  const getNextPage = async () => {\n    await getDatas();\n  };\n\n  const onChangeFilterItem = event => {\n    setFilterItem(event.target.value);\n  };\n\n  useEffect(() => {\n    getDatas();\n  }, [value, filterItem, itemValue, user.status, isScrollBottom]);\n  return [gridItemDatas, filterItem, onChangeFilterItem];\n};\n\nconst ImageGridFilter = props => {\n  const {\n    filterItem,\n    onChangeFilterItem\n  } = props;\n  const items = [{\n    key: 'default',\n    value: 'Filter',\n    disabled: true\n  }, {\n    key: 'recently',\n    value: 'Recently',\n    disabled: false\n  }, {\n    key: 'comments',\n    value: 'Most comments',\n    disabled: false\n  }, {\n    key: 'votes',\n    value: 'Most Votes',\n    disabled: false\n  }];\n  return /*#__PURE__*/React.createElement(FormControl, {\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    labelId: \"demo-simple-select-label\",\n    id: \"demo-simple-select\",\n    value: filterItem,\n    onChange: onChangeFilterItem,\n    className: \"image-grid-filter-select\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, items.map((item, index) => /*#__PURE__*/React.createElement(MenuItem, {\n    key: item.key,\n    value: item.key,\n    disabled: item.disabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, item.value))));\n};\n\nconst VoteGridList = props => {\n  const nowCols = useNowCols();\n  const {\n    categoryData,\n    value,\n    index,\n    itemType,\n    itemValue\n  } = props;\n  const [gridItemDatas, filterItem, onChangeFilterItem] = useGetdata(value, index, categoryData, itemType, itemValue);\n  return /*#__PURE__*/React.createElement(Wrapper, {\n    className: \"root\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    className: \"vote-grid-list-grid-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TuneIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ImageGridFilter, {\n    filterItem: filterItem,\n    onChangeFilterItem: onChangeFilterItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(GridList, {\n    className: \"grid-list\",\n    cols: Number.isInteger(nowCols) ? nowCols : 1,\n    cellHeight: 'auto',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, gridItemDatas.map((itemData, index) => {\n    return /*#__PURE__*/React.createElement(Grid, {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(VoteGridItem, {\n      itemData: itemData,\n      index: index,\n      itemType: itemType,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 15\n      }\n    }));\n  })));\n};\n\nexport default VoteGridList;","map":{"version":3,"names":["React","useState","useEffect","useContext","useRef","GridList","Grid","MenuItem","FormControl","Select","Typography","TuneIcon","Wrapper","Axios","useHistory","CommonContext","ViewContext","useNowCols","usePrevious","useInfiniteScroll","VoteGridItem","voteDatas","useGetdata","value","index","categoryData","itemType","itemValue","serverUrl","user","setUser","filterItem","setFilterItem","filterItemPrevious","gridItemDatas","setGridItemDatas","nextToken","isScrollBottom","getDatas","items","getNextPage","onChangeFilterItem","event","target","status","ImageGridFilter","props","key","disabled","map","item","VoteGridList","nowCols","Number","isInteger","itemData"],"sources":["/Users/kimkukjin/Git/react/skeleton-project-master/frontend/src/components/Grid/VoteGridList/index.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext, useRef } from 'react';\nimport {\n  GridList,\n  Grid,\n  MenuItem,\n  FormControl,\n  Select,\n  Typography,\n} from '@material-ui/core';\nimport TuneIcon from '@material-ui/icons/Tune';\nimport Wrapper from './styles';\nimport Axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { CommonContext } from '../../../context/CommonContext';\nimport { ViewContext } from '../../../context/ViewContext';\nimport { useNowCols } from '../../../common/MediaQueryHooks';\nimport { usePrevious } from '../../../common/CommonHooks';\nimport { useInfiniteScroll } from '../../../common/InfiniteScroll';\nimport VoteGridItem from './../VoteGridItem/';\n\nimport voteDatas from './dump.json';\n\nconst useGetdata = (value, index, categoryData, itemType, itemValue) => {\n  const { serverUrl, user, setUser } = useContext(CommonContext);\n\n  const [filterItem, setFilterItem] = useState('default');\n  const filterItemPrevious = usePrevious(filterItem);\n  const [gridItemDatas, setGridItemDatas] = useState([]);\n  const nextToken = useRef(null);\n  const isScrollBottom = useInfiniteScroll();\n\n  const getDatas = async () => {\n    setGridItemDatas(voteDatas.items);\n  };\n\n  const getNextPage = async () => {\n    await getDatas();\n  };\n\n  const onChangeFilterItem = event => {\n    setFilterItem(event.target.value);\n  };\n\n  useEffect(() => {\n    getDatas();\n  }, [value, filterItem, itemValue, user.status, isScrollBottom]);\n\n  return [gridItemDatas, filterItem, onChangeFilterItem];\n};\n\nconst ImageGridFilter = props => {\n  const { filterItem, onChangeFilterItem } = props;\n\n  const items = [\n    { key: 'default', value: 'Filter', disabled: true },\n    { key: 'recently', value: 'Recently', disabled: false },\n    { key: 'comments', value: 'Most comments', disabled: false },\n    { key: 'votes', value: 'Most Votes', disabled: false },\n  ];\n\n  return (\n    <FormControl className=\"form-control\">\n      <Select\n        labelId=\"demo-simple-select-label\"\n        id=\"demo-simple-select\"\n        value={filterItem}\n        onChange={onChangeFilterItem}\n        className=\"image-grid-filter-select\"\n      >\n        {items.map((item, index) => (\n          <MenuItem key={item.key} value={item.key} disabled={item.disabled}>\n            {item.value}\n          </MenuItem>\n        ))}\n      </Select>\n    </FormControl>\n  );\n};\n\nconst VoteGridList = props => {\n  const nowCols = useNowCols();\n\n  const { categoryData, value, index, itemType, itemValue } = props;\n\n  const [gridItemDatas, filterItem, onChangeFilterItem] = useGetdata(\n    value,\n    index,\n    categoryData,\n    itemType,\n    itemValue,\n  );\n\n  return (\n    <Wrapper className=\"root\">\n      <Grid container>\n        <Grid item className=\"vote-grid-list-grid-item\">\n          <TuneIcon />\n        </Grid>\n        <Grid item>\n          <ImageGridFilter\n            filterItem={filterItem}\n            onChangeFilterItem={onChangeFilterItem}\n          />\n        </Grid>\n      </Grid>\n      <GridList\n        className=\"grid-list\"\n        cols={Number.isInteger(nowCols) ? nowCols : 1}\n        cellHeight={'auto'}\n      >\n        {gridItemDatas.map((itemData, index) => {\n          return (\n            <Grid key={index}>\n              <VoteGridItem\n                itemData={itemData}\n                index={index}\n                itemType={itemType}\n              />\n            </Grid>\n          );\n        })}\n      </GridList>\n    </Wrapper>\n  );\n};\n\nexport default VoteGridList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}